<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags always come first -->
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Basic HTML5 Drag and Drop with Elm | (λx.x) Ben Hanna
</title>
  <link rel="canonical" href="https://benpaulhanna.com/basic-html5-drag-and-drop-with-elm.html">

  <link rel="alternate" type="application/atom+xml" href="https://benpaulhanna.com/feeds/all.atom.xml" title="Full Atom Feed">
  <link rel="alternate" type="application/atom+xml" href="https://benpaulhanna.com/feeds/blog.atom.xml" title="Categories Atom Feed">


  <link rel="stylesheet" href="https://benpaulhanna.com/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://benpaulhanna.com/theme/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://benpaulhanna.com/theme/css/pygments/default.min.css">
  <link rel="stylesheet" href="https://benpaulhanna.com/theme/css/style.css">


<meta name="description" content="In doing some research for a potential project I decided to see how drag and drop functionality can be implemented in Elm. Thankfully, it looks like it's not too hard to achieve since drag and drop is now part of the HTML5 standard. To demonstrate this I'll show you how …">
<script>
  (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o);
    a.async = 1;
    a.src = g;
    m = s.getElementsByTagName(o)[0];
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
  ga('create', 'UA-25795278-5', 'auto');
  ga('send', 'pageview');
</script>
</head>

<body>
  <header class="header">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <h1 class="title"><a href="https://benpaulhanna.com/">(λx.x) Ben Hanna</a></h1>
          <p class="text-muted">Software Craftsman and Game Programming Enthusiast</p>
          <ul class="list-inline">
            <li class="list-inline-item"><a href="https://benpaulhanna.com/category/blog.html">Blog</a></li>
            <li class="list-inline-item text-muted">|</li>
            <li class="list-inline-item"><a href="https://benpaulhanna.com/pages/about.html">About</a></li>
            <li class=" list-inline-item text-muted">|</li>
            <li class="list-inline-item"><a class="fa fa-github" href="https://github.com/benthepoet" target="_blank"></a></li>
            <li class="list-inline-item"><a class="fa fa-stack-overflow" href="https://stackoverflow.com/users/8171618/ben-hanna" target="_blank"></a></li>
            <li class="list-inline-item"><a class="fa fa-linkedin" href="https://www.linkedin.com/in/ben-hanna-0a275135" target="_blank"></a></li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>Basic HTML5 Drag and Drop with Elm
</h1>
      <hr>
<article class="article">
  <header>
    <ul class="list-inline">
      <li class="list-inline-item text-muted" title="2018-06-18T13:37:00-04:00">
        <i class="fa fa-clock-o"></i>
        Mon 18 June 2018
      </li>
      <li class="list-inline-item">
        <i class="fa fa-folder-open-o"></i>
        <a href="https://benpaulhanna.com/category/blog.html">Blog</a>
      </li>
    </ul>
  </header>
  <div class="content">
    <p>In doing some research for a potential project I decided to see how drag and drop 
functionality can be implemented in Elm.</p>
<p>Thankfully, it looks like it's not too hard to achieve since drag and drop is now 
part of the HTML5 standard. To demonstrate this I'll show you how to build an application 
that allows you to construct a list by dragging items onto it.</p>
<p>To follow along with this tutorial I recommend building an application with <a href="https://ellie-app.com">Ellie</a>.</p>
<h1>Getting Started</h1>
<p>To get things started we'll start with a <code>Browser.sandbox</code> since we we're not doing 
anything fancy.</p>
<!-- https://ellie-app.com/yCv5t7PhHMa1 -->

<div class="highlight"><pre><span></span><span class="kn">module </span><span class="nc">Main</span> <span class="nv">exposing</span> <span class="nf">(..)</span>

<span class="kn">import </span><span class="nc">Browser</span>
<span class="kn">import </span><span class="nc">Html</span> <span class="nv">exposing</span> <span class="p">(</span><span class="kt">Html</span><span class="p">)</span>
<span class="kn">import </span><span class="nc">Html.Attributes</span> <span class="kr">as</span> <span class="kt">Attributes</span>


<span class="kr">main </span><span class="nf">:</span> <span class="kt">Program</span> <span class="p">()</span> <span class="kt">Model</span> <span class="kt">Msg</span>
<span class="kr">main </span><span class="nf">=</span>
    <span class="kt">Browser</span><span class="nf">.</span><span class="nv">sandbox</span>
        <span class="p">{</span> <span class="nv">init</span> <span class="nf">=</span> <span class="nv">initialModel</span>
        <span class="p">,</span> <span class="nv">update</span> <span class="nf">=</span> <span class="nv">update</span>
        <span class="p">,</span> <span class="nv">view</span> <span class="nf">=</span> <span class="nv">view</span>
        <span class="p">}</span>


<span class="kr">type</span> <span class="kr">alias</span> <span class="kt">Model</span> <span class="nf">=</span>
    <span class="p">{</span> <span class="nv">items</span> <span class="nf">:</span> <span class="kt">List</span> <span class="kt">String</span>
    <span class="p">}</span>


<span class="nv">initialModel</span> <span class="nf">:</span> <span class="kt">Model</span>
<span class="nv">initialModel</span> <span class="nf">=</span> <span class="kt">Model</span> <span class="p">[]</span>


<span class="kr">type</span> <span class="kt">Msg</span> 
    <span class="nf">=</span> <span class="kt">Noop</span>


<span class="nv">update</span> <span class="nf">:</span> <span class="kt">Msg</span> <span class="nf">-&gt;</span> <span class="kt">Model</span> <span class="nf">-&gt;</span> <span class="kt">Model</span>
<span class="nv">update</span> <span class="nv">msg</span> <span class="nv">model</span> <span class="nf">=</span>
    <span class="kr">case</span> <span class="nv">msg</span> <span class="kr">of</span>
        <span class="kt">Noop</span> <span class="nf">-&gt;</span> 
            <span class="nv">model</span>


<span class="nv">view</span> <span class="nf">:</span> <span class="kt">Model</span> <span class="nf">-&gt;</span> <span class="kt">Html</span> <span class="kt">Msg</span>
<span class="nv">view</span> <span class="nv">model</span> <span class="nf">=</span>
    <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span>
        <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;container&quot;</span> <span class="p">]</span>
        <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
            <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;row&quot;</span> <span class="p">]</span> 
            <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
                <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;col-sm-6&quot;</span> <span class="p">]</span>
                <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">h4</span> <span class="p">[]</span> <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">text</span> <span class="s">&quot;Draggable&quot;</span> <span class="p">]</span> <span class="p">]</span>
            <span class="p">,</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
                <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;col-sm-6&quot;</span> <span class="p">]</span>
                <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">h4</span> <span class="p">[]</span> <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">text</span> <span class="s">&quot;Drop Zone&quot;</span> <span class="p">]</span> <span class="p">]</span>
            <span class="p">]</span>
        <span class="p">]</span>
</pre></div>


<p>For styling I'm using the <a href="https://minicss.org">mini.css</a> so you'll want to add the stylesheet for that.</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://unpkg.com/mini.css@3.0.0/dist/mini-default.min.css&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</pre></div>


<p>Now there's a potential issue in that Firefox requires <code>event.dataTransfer.setData()</code> to be called during the <code>dragstart</code> event 
in order to drag an element. To address this we'll add an event listener on the <code>body</code> element.</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;dragstart&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">event</span><span class="p">.</span><span class="nx">dataTransfer</span><span class="p">.</span><span class="nx">setData</span><span class="p">(</span><span class="s1">&#39;text/plain&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">Elm</span><span class="p">.</span><span class="nx">Main</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span> <span class="nx">node</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;main&#39;</span><span class="p">)</span> <span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>


<p>At this point running the application should display the shell that we've setup. Now we can move onto adding 
in the fun stuff.</p>
<h1>Create a list of draggable items</h1>
<p>First we need to add a new property to our <code>Model</code> for tracking the item that is 
being dragged. I'm also going to add a list of draggable items to the model so that 
we can compose our list of different items. </p>
<!-- https://ellie-app.com/yCwjh5zF5Ca1 -->

<div class="highlight"><pre><span></span><span class="kr">type</span> <span class="kr">alias</span> <span class="kt">Model</span> <span class="nf">=</span>
    <span class="p">{</span> <span class="nv">beingDragged</span> <span class="nf">:</span> <span class="kt">Maybe</span> <span class="kt">String</span>
    <span class="p">,</span> <span class="nv">draggableItems</span><span class="nf">:</span> <span class="kt">List</span> <span class="kt">String</span>
    <span class="p">,</span> <span class="nv">items</span> <span class="nf">:</span> <span class="kt">List</span> <span class="kt">String</span>
    <span class="p">}</span>


<span class="nv">initialModel</span> <span class="nf">:</span> <span class="kt">Model</span>
<span class="nv">initialModel</span> <span class="nf">=</span>
    <span class="p">{</span> <span class="nv">beingDragged</span> <span class="nf">=</span> <span class="kt">Nothing</span>
    <span class="p">,</span> <span class="nv">draggableItems</span> <span class="nf">=</span>
        <span class="kt">List</span><span class="nf">.</span><span class="nv">range</span> <span class="mi">1</span> <span class="mi">5</span>
            <span class="nf">|&gt;</span> <span class="kt">List</span><span class="nf">.</span><span class="nv">map</span> <span class="kt">Debug</span><span class="nf">.</span><span class="nv">toString</span>
    <span class="p">,</span> <span class="nv">items</span> <span class="nf">=</span> <span class="p">[]</span>
    <span class="p">}</span>
</pre></div>


<p>Now let's update our <code>view</code> to render the draggable items.</p>
<!-- https://ellie-app.com/yCyW9TXhW3a1 -->

<div class="highlight"><pre><span></span><span class="nv">draggableItemView</span> <span class="nf">:</span> <span class="kt">String</span> <span class="nf">-&gt;</span> <span class="kt">Html</span> <span class="kt">Msg</span>
<span class="nv">draggableItemView</span> <span class="nv">item</span> <span class="nf">=</span>
    <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span>
        <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;card fluid warning&quot;</span>
        <span class="p">]</span> 
        <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
            <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;section&quot;</span> <span class="p">]</span> 
            <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">text</span> <span class="nv">item</span> <span class="p">]</span> 
        <span class="p">]</span>


<span class="nv">itemView</span> <span class="nf">:</span> <span class="kt">String</span> <span class="nf">-&gt;</span> <span class="kt">Html</span> <span class="kt">Msg</span>
<span class="nv">itemView</span> <span class="nv">item</span> <span class="nf">=</span>
    <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span>
        <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;card fluid error&quot;</span> <span class="p">]</span> 
        <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
            <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;section&quot;</span> <span class="p">]</span> 
            <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">text</span> <span class="nv">item</span> <span class="p">]</span>
        <span class="p">]</span>


<span class="nv">view</span> <span class="nf">:</span> <span class="kt">Model</span> <span class="nf">-&gt;</span> <span class="kt">Html</span> <span class="kt">Msg</span>
<span class="nv">view</span> <span class="nv">model</span> <span class="nf">=</span>
    <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span>
        <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;container&quot;</span> <span class="p">]</span>
        <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
            <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;row&quot;</span> <span class="p">]</span> 
            <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
                <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;col-sm-6&quot;</span> <span class="p">]</span>
                <span class="nf">&lt;|</span> <span class="p">(</span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span> <span class="nv">draggableItemView</span> <span class="nv">model</span><span class="nf">.</span><span class="nv">draggableItems</span>
                    <span class="nf">|&gt;</span> <span class="nf">(::)</span> <span class="p">(</span><span class="kt">Html</span><span class="nf">.</span><span class="nv">h4</span> <span class="p">[]</span> <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">text</span> <span class="s">&quot;Draggable&quot;</span> <span class="p">]))</span>
            <span class="p">,</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
                <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;col-sm-6&quot;</span>
                <span class="p">]</span>
                <span class="nf">&lt;|</span> <span class="p">(</span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span> <span class="nv">itemView</span> <span class="nv">model</span><span class="nf">.</span><span class="nv">items</span>
                    <span class="nf">|&gt;</span> <span class="nf">(::)</span> <span class="p">(</span><span class="kt">Html</span><span class="nf">.</span><span class="nv">h4</span> <span class="p">[]</span> <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">text</span> <span class="s">&quot;Drop Zone&quot;</span> <span class="p">]))</span>
            <span class="p">]</span>
        <span class="p">]</span>
</pre></div>


<h1>Add update messages</h1>
<p>Next we need to setup some messages for handling actions in the application. These messages 
will be passed by the event handlers we're going to setup in the next section.</p>
<!-- https://ellie-app.com/yCzmNzPY7ga1 -->

<div class="highlight"><pre><span></span><span class="kr">type</span> <span class="kt">Msg</span>
    <span class="nf">=</span> <span class="kt">Drag</span> <span class="kt">String</span>
    <span class="nf">|</span> <span class="kt">DragEnd</span>
    <span class="nf">|</span> <span class="kt">DragOver</span>
    <span class="nf">|</span> <span class="kt">Drop</span>


<span class="nv">update</span> <span class="nf">:</span> <span class="kt">Msg</span> <span class="nf">-&gt;</span> <span class="kt">Model</span> <span class="nf">-&gt;</span> <span class="kt">Model</span>
<span class="nv">update</span> <span class="nv">msg</span> <span class="nv">model</span> <span class="nf">=</span>
    <span class="kr">case</span> <span class="nv">msg</span> <span class="kr">of</span>
        <span class="kt">Drag</span> <span class="nv">item</span> <span class="nf">-&gt;</span>
            <span class="p">{</span> <span class="nv">model</span> <span class="nf">|</span> <span class="nv">beingDragged</span> <span class="nf">=</span> <span class="kt">Just</span> <span class="nv">item</span> <span class="p">}</span>

        <span class="kt">DragEnd</span> <span class="nf">-&gt;</span>
            <span class="p">{</span> <span class="nv">model</span> <span class="nf">|</span> <span class="nv">beingDragged</span> <span class="nf">=</span> <span class="kt">Nothing</span> <span class="p">}</span>

        <span class="kt">DragOver</span> <span class="nf">-&gt;</span>
            <span class="nv">model</span>

        <span class="kt">Drop</span> <span class="nf">-&gt;</span>
            <span class="kr">case</span> <span class="nv">model</span><span class="nf">.</span><span class="nv">beingDragged</span> <span class="kr">of</span>
                <span class="kt">Nothing</span> <span class="nf">-&gt;</span>
                    <span class="nv">model</span>

                <span class="kt">Just</span> <span class="nv">item</span> <span class="nf">-&gt;</span>
                    <span class="p">{</span> <span class="nv">model</span>
                        <span class="nf">|</span> <span class="nv">beingDragged</span> <span class="nf">=</span> <span class="kt">Nothing</span>
                        <span class="p">,</span> <span class="nv">items</span> <span class="nf">=</span> <span class="nv">item</span> <span class="nf">::</span> <span class="nv">model</span><span class="nf">.</span><span class="nv">items</span> 
                    <span class="p">}</span>
</pre></div>


<h1>Add event handlers</h1>
<p>Next we need to leverage the following events to achieve drag and drop functionality.</p>
<table>
<thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dragstart</code></td>
<td>Fires when an element starts being dragged.</td>
</tr>
<tr>
<td><code>dragend</code></td>
<td>Fires when dragging stops without being dropped on a dropzone.</td>
</tr>
<tr>
<td><code>dragover</code></td>
<td>Fires when an dragging over an element. Cancelling this event allows an element to be a dropzone.</td>
</tr>
<tr>
<td><code>drop</code></td>
<td>Fires when dragging stops over a dropzone.</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Handlers for these events aren't provided in <code>Html.Events</code>. Thankfully, these are fairly trivial to setup.</p>
<!-- https://ellie-app.com/yCC93bXx2ma1 -->

<div class="highlight"><pre><span></span><span class="kn">import </span><span class="nc">Html.Events</span> <span class="kr">as</span> <span class="kt">Events</span>
<span class="kn">import </span><span class="nc">Json.Decode</span> <span class="kr">as</span> <span class="kt">Decode</span>


<span class="nv">onDragStart</span> <span class="nv">msg</span> <span class="nf">=</span>
    <span class="kt">Events</span><span class="nf">.</span><span class="nv">on</span> <span class="s">&quot;dragstart&quot;</span> 
        <span class="nf">&lt;|</span> <span class="kt">Decode</span><span class="nf">.</span><span class="nv">succeed</span> <span class="nv">msg</span>


<span class="nv">onDragEnd</span> <span class="nv">msg</span> <span class="nf">=</span>
    <span class="kt">Events</span><span class="nf">.</span><span class="nv">on</span> <span class="s">&quot;dragend&quot;</span>
        <span class="nf">&lt;|</span> <span class="kt">Decode</span><span class="nf">.</span><span class="nv">succeed</span> <span class="nv">msg</span>


<span class="nv">onDragOver</span> <span class="nv">msg</span> <span class="nf">=</span>
    <span class="kt">Events</span><span class="nf">.</span><span class="nv">preventDefaultOn</span> <span class="s">&quot;dragover&quot;</span>
        <span class="nf">&lt;|</span> <span class="kt">Decode</span><span class="nf">.</span><span class="nv">succeed</span> <span class="p">(</span><span class="nv">msg</span><span class="p">,</span> <span class="kt">True</span><span class="p">)</span>


<span class="nv">onDrop</span> <span class="nv">msg</span> <span class="nf">=</span>
    <span class="kt">Events</span><span class="nf">.</span><span class="nv">preventDefaultOn</span> <span class="s">&quot;drop&quot;</span>
        <span class="nf">&lt;|</span> <span class="kt">Decode</span><span class="nf">.</span><span class="nv">succeed</span> <span class="p">(</span><span class="nv">msg</span><span class="p">,</span> <span class="kt">True</span><span class="p">)</span>
</pre></div>


<p>Then all that's left now is for us to wire up the events in our <code>view</code>.</p>
<!-- https://ellie-app.com/yGJLryTwL3a1 -->

<div class="highlight"><pre><span></span><span class="nv">draggableItemView</span> <span class="nf">:</span> <span class="kt">String</span> <span class="nf">-&gt;</span> <span class="kt">Html</span> <span class="kt">Msg</span>
<span class="nv">draggableItemView</span> <span class="nv">item</span> <span class="nf">=</span>
    <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span>
        <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;card fluid warning&quot;</span>
        <span class="p">,</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">draggable</span> <span class="s">&quot;true&quot;</span>
        <span class="p">,</span> <span class="nv">onDragStart</span> <span class="nf">&lt;|</span> <span class="kt">Drag</span> <span class="nv">item</span>
        <span class="p">,</span> <span class="nv">onDragEnd</span> <span class="kt">DragEnd</span> 
        <span class="p">]</span> 
        <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
            <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;section&quot;</span> <span class="p">]</span> 
            <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">text</span> <span class="nv">item</span> <span class="p">]</span> 
        <span class="p">]</span>


<span class="nv">itemView</span> <span class="nf">:</span> <span class="kt">String</span> <span class="nf">-&gt;</span> <span class="kt">Html</span> <span class="kt">Msg</span>
<span class="nv">itemView</span> <span class="nv">item</span> <span class="nf">=</span>
    <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span>
        <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;card fluid error&quot;</span> <span class="p">]</span> 
        <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
            <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;section&quot;</span> <span class="p">]</span> 
            <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">text</span> <span class="nv">item</span> <span class="p">]</span>
        <span class="p">]</span>


<span class="nv">view</span> <span class="nf">:</span> <span class="kt">Model</span> <span class="nf">-&gt;</span> <span class="kt">Html</span> <span class="kt">Msg</span>
<span class="nv">view</span> <span class="nv">model</span> <span class="nf">=</span>
    <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span>
        <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;container&quot;</span> <span class="p">]</span>
        <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
            <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;row&quot;</span> <span class="p">]</span> 
            <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
                <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;col-sm-6&quot;</span> <span class="p">]</span>
                <span class="nf">&lt;|</span> <span class="p">(</span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span> <span class="nv">draggableItemView</span> <span class="nv">model</span><span class="nf">.</span><span class="nv">draggableItems</span>
                    <span class="nf">|&gt;</span> <span class="nf">(::)</span> <span class="p">(</span><span class="kt">Html</span><span class="nf">.</span><span class="nv">h4</span> <span class="p">[]</span> <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">text</span> <span class="s">&quot;Draggable&quot;</span> <span class="p">]))</span>
            <span class="p">,</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">div</span> 
                <span class="p">[</span> <span class="kt">Attributes</span><span class="nf">.</span><span class="nv">class</span> <span class="s">&quot;col-sm-6&quot;</span>
                <span class="p">,</span> <span class="nv">onDragOver</span> <span class="kt">DragOver</span>
                <span class="p">,</span> <span class="nv">onDrop</span> <span class="kt">Drop</span>
                <span class="p">]</span>
                <span class="nf">&lt;|</span> <span class="p">(</span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span> <span class="nv">itemView</span> <span class="nv">model</span><span class="nf">.</span><span class="nv">items</span>
                    <span class="nf">|&gt;</span> <span class="nf">(::)</span> <span class="p">(</span><span class="kt">Html</span><span class="nf">.</span><span class="nv">h4</span> <span class="p">[]</span> <span class="p">[</span> <span class="kt">Html</span><span class="nf">.</span><span class="nv">text</span> <span class="s">&quot;Drop Zone&quot;</span> <span class="p">]))</span>
            <span class="p">]</span>
        <span class="p">]</span>
</pre></div>


<h1>Putting it all together</h1>
<p>With everything in place now, you should have a solution like below that allows you to drag 
items from the left list onto the right list.</p>
<iframe src="https://ellie-app.com/embed/8hrQSHMkpD6a1" style="width:100%; height:400px; border:0; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>

<p>And that's all it takes to implement basic HTML5 drag and drop in Elm. Happy hacking!</p>
  </div>
</article>
<hr>
<div id="disqus_thread"></div>
<script>
  var disqus_config = function() {
    this.page.url = 'https://benpaulhanna.com/basic-html5-drag-and-drop-with-elm.html';
    this.page.identifier = 'basic-html5-drag-and-drop-with-elm';
  };
  (function() {
    var d = document;
    var s = d.createElement('script');
    s.src = '//benpaulhanna.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript class="text-muted">
  Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="row">
       <ul class="col-sm-6 list-inline">
          <li class="list-inline-item"><a href="https://benpaulhanna.com/archives.html">Archives</a></li>
          <li class="list-inline-item"><a href="https://benpaulhanna.com/categories.html">Categories</a></li>
          <li class="list-inline-item"><a href="https://benpaulhanna.com/tags.html">Tags</a></li>
        </ul>
        <p class="col-sm-6 text-sm-right text-muted">
          Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a> / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
        </p>
      </div>
    </div>
  </footer>
</body>

</html>